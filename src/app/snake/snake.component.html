<div class=header>
    <p-float-label>
        <input pInputText id="name" [(ngModel)]="username" />
        <label for="name">Username</label>
    </p-float-label>
    @if (alive) {
        <p-button label="Leave" [severity]="'danger'" (click)="leave()"></p-button>
    } @else {
        <p-button label="Join" [severity]="'success'" (click)="join()"></p-button>
    }
</div>
<div class="main-content">
    <p>Your Score: {{ score() }}</p>
    <div class="game-container">
        @for (row of grid(); track $index) {
            <div class="row">
                @for (cell of row; track $index) {
                <div
                    class="cell"
                    [class.snake]="isSnake(cell)"
                    [class.food]="isFood(cell)"
                    [class.mySnake]="isMySnake(cell)">
                </div>
                }
            </div>
        }
    </div>
    <div class="ranking">
        <p>Current Ranking:</p>
        <ol>
            @for (player of playersOrderedByScore(); track $index) {
                <li>{{ player.username ? player.username : player.id }}: {{ player.score }}</li>
            }
        </ol>
    </div>
</div>