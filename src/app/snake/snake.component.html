<div class=header>
    <h1>Snake</h1>
    <p-float-label>
        <input pInputText id="name" [(ngModel)]="username" />
        <label for="name">Username</label>
    </p-float-label>
    @if (alive) {
        <p-button label="Leave" (click)="leave()"></p-button>
    } @else {
        <p-button label="Join" (click)="join()"></p-button>
    }
<div class="game-container">
    @for (row of grid(); track $index) {
        <div class="row">
            @for (cell of row; track $index) {
            <div
                class="cell"
                [class.snake]="isSnake(cell)"
                [class.food]="isFood(cell)"
                [class.mySnake]="isMySnake(cell)">
            </div>
            }
        </div>
    }
    <p class="score">Your Score: {{ score() }}</p>
    <div class="score">
        <p>Current Ranking:</p>
        <ol>
            @for (player of playersOrderedByScore(); track $index) {
                <li>{{ player.username ? player.username : player.id }}: {{ player.score }}</li>
            }
        </ol>
</div>